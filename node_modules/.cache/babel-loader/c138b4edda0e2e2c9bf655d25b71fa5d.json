{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _Portal = _interopRequireDefault(require(\"../Portal\"));\n\nvar _ContentWrapper = _interopRequireDefault(require(\"./components/ContentWrapper\"));\n\nvar _useTheme = _interopRequireDefault(require(\"../hooks/useTheme\"));\n\nvar _useStateWithTimeout5 = _interopRequireDefault(require(\"../hooks/useStateWithTimeout\"));\n\nvar _consts = require(\"./consts\");\n\nvar _handleKeyDown = _interopRequireDefault(require(\"../utils/handleKeyDown\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar StyledPopoverChild = _styledComponents.default.div.withConfig({\n  displayName: \"Popover__StyledPopoverChild\",\n  componentId: \"t88fx4-0\"\n})([\"position:relative;\"]);\n\nvar Popover = function Popover(_ref) {\n  var children = _ref.children,\n      _ref$offset = _ref.offset,\n      offset = _ref$offset === void 0 ? {\n    top: 0,\n    left: 0\n  } : _ref$offset,\n      content = _ref.content,\n      _ref$preferredPositio = _ref.preferredPosition,\n      preferredPosition = _ref$preferredPositio === void 0 ? _consts.POSITIONS.BOTTOM : _ref$preferredPositio,\n      _ref$preferredAlign = _ref.preferredAlign,\n      preferredAlign = _ref$preferredAlign === void 0 ? _consts.ALIGNS.START : _ref$preferredAlign,\n      dataTest = _ref.dataTest,\n      opened = _ref.opened,\n      width = _ref.width,\n      noPadding = _ref.noPadding,\n      overlapped = _ref.overlapped,\n      onClose = _ref.onClose,\n      onOpen = _ref.onOpen,\n      fixed = _ref.fixed,\n      actions = _ref.actions,\n      _ref$renderInPortal = _ref.renderInPortal,\n      renderInPortal = _ref$renderInPortal === void 0 ? true : _ref$renderInPortal;\n  var theme = (0, _useTheme.default)();\n  var transitionLength = React.useMemo(function () {\n    return parseFloat(theme.orbit.durationFast) * 1000;\n  }, [theme.orbit.durationFast]);\n\n  var _useStateWithTimeout = (0, _useStateWithTimeout5.default)(false, transitionLength),\n      _useStateWithTimeout2 = (0, _slicedToArray2.default)(_useStateWithTimeout, 4),\n      shown = _useStateWithTimeout2[0],\n      setShown = _useStateWithTimeout2[1],\n      setShownWithTimeout = _useStateWithTimeout2[2],\n      clearShownTimeout = _useStateWithTimeout2[3];\n\n  var _useStateWithTimeout3 = (0, _useStateWithTimeout5.default)(false, transitionLength),\n      _useStateWithTimeout4 = (0, _slicedToArray2.default)(_useStateWithTimeout3, 4),\n      render = _useStateWithTimeout4[0],\n      setRender = _useStateWithTimeout4[1],\n      setRenderWithTimeout = _useStateWithTimeout4[2],\n      clearRenderTimeout = _useStateWithTimeout4[3];\n\n  var container = React.useRef(null);\n  var resolveCallback = React.useCallback(function (state) {\n    if (onClose && !state) onClose();\n    if (onOpen && state) onOpen();\n  }, [onClose, onOpen]);\n  var handleOut = React.useCallback(function (ev) {\n    // If open prop is present ignore custom handler\n    if (container.current && !container.current.contains(ev.target)) {\n      if (typeof opened === \"undefined\") {\n        setShown(false);\n        clearShownTimeout();\n        setRenderWithTimeout(false);\n        resolveCallback(false);\n      } else if (onClose) onClose();\n    }\n  }, [clearShownTimeout, onClose, opened, resolveCallback, setRenderWithTimeout, setShown]);\n  var handleClick = React.useCallback(function () {\n    // If open prop is present ignore custom handler\n    if (typeof opened === \"undefined\") {\n      if (shown) {\n        setShown(false);\n        clearShownTimeout();\n        setRenderWithTimeout(false);\n        resolveCallback(false);\n      } else {\n        setRender(true);\n        clearRenderTimeout();\n        setShownWithTimeout(true);\n        resolveCallback(true);\n      }\n    } else if (opened) {\n      resolveCallback(false);\n    } else if (!opened) {\n      resolveCallback(true);\n    }\n  }, [clearRenderTimeout, clearShownTimeout, opened, resolveCallback, setRender, setRenderWithTimeout, setShown, setShownWithTimeout, shown]);\n  React.useEffect(function () {\n    if (typeof opened !== \"undefined\") {\n      if (opened) {\n        setRender(true);\n        clearRenderTimeout();\n        setShownWithTimeout(true);\n      } else {\n        setShown(false);\n        clearShownTimeout();\n        setRenderWithTimeout(false);\n      }\n    }\n  }, [opened, clearRenderTimeout, clearShownTimeout, setRender, setShown, setShownWithTimeout, setRenderWithTimeout]);\n  var popover = /*#__PURE__*/React.createElement(_ContentWrapper.default, {\n    shown: shown,\n    offset: _objectSpread({\n      top: 0,\n      left: 0\n    }, offset),\n    width: width,\n    containerRef: container,\n    preferredPosition: preferredPosition,\n    preferredAlign: preferredAlign,\n    onClose: handleOut,\n    dataTest: dataTest,\n    noPadding: noPadding,\n    overlapped: overlapped,\n    fixed: fixed,\n    actions: actions\n  }, content);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StyledPopoverChild, {\n    onClick: handleClick,\n    onKeyDown: (0, _handleKeyDown.default)(handleClick),\n    ref: container\n  }, children), render && (renderInPortal ? /*#__PURE__*/React.createElement(_Portal.default, {\n    renderInto: \"popovers\"\n  }, popover) : popover));\n};\n\nvar _default = Popover;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/naksh/OneDrive/Desktop/packing-list/node_modules/@kiwicom/orbit-components/lib/Popover/index.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","_defineProperty2","_slicedToArray2","React","_styledComponents","_Portal","_ContentWrapper","_useTheme","_useStateWithTimeout5","_consts","_handleKeyDown","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","StyledPopoverChild","div","withConfig","displayName","componentId","Popover","_ref","children","_ref$offset","offset","top","left","content","_ref$preferredPositio","preferredPosition","POSITIONS","BOTTOM","_ref$preferredAlign","preferredAlign","ALIGNS","START","dataTest","opened","width","noPadding","overlapped","onClose","onOpen","fixed","actions","_ref$renderInPortal","renderInPortal","theme","transitionLength","useMemo","parseFloat","orbit","durationFast","_useStateWithTimeout","_useStateWithTimeout2","shown","setShown","setShownWithTimeout","clearShownTimeout","_useStateWithTimeout3","_useStateWithTimeout4","render","setRender","setRenderWithTimeout","clearRenderTimeout","container","useRef","resolveCallback","useCallback","state","handleOut","ev","current","contains","handleClick","useEffect","popover","createElement","containerRef","Fragment","onClick","onKeyDown","ref","renderInto","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _Portal = _interopRequireDefault(require(\"../Portal\"));\n\nvar _ContentWrapper = _interopRequireDefault(require(\"./components/ContentWrapper\"));\n\nvar _useTheme = _interopRequireDefault(require(\"../hooks/useTheme\"));\n\nvar _useStateWithTimeout5 = _interopRequireDefault(require(\"../hooks/useStateWithTimeout\"));\n\nvar _consts = require(\"./consts\");\n\nvar _handleKeyDown = _interopRequireDefault(require(\"../utils/handleKeyDown\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar StyledPopoverChild = _styledComponents.default.div.withConfig({\n  displayName: \"Popover__StyledPopoverChild\",\n  componentId: \"t88fx4-0\"\n})([\"position:relative;\"]);\n\nvar Popover = function Popover(_ref) {\n  var children = _ref.children,\n      _ref$offset = _ref.offset,\n      offset = _ref$offset === void 0 ? {\n    top: 0,\n    left: 0\n  } : _ref$offset,\n      content = _ref.content,\n      _ref$preferredPositio = _ref.preferredPosition,\n      preferredPosition = _ref$preferredPositio === void 0 ? _consts.POSITIONS.BOTTOM : _ref$preferredPositio,\n      _ref$preferredAlign = _ref.preferredAlign,\n      preferredAlign = _ref$preferredAlign === void 0 ? _consts.ALIGNS.START : _ref$preferredAlign,\n      dataTest = _ref.dataTest,\n      opened = _ref.opened,\n      width = _ref.width,\n      noPadding = _ref.noPadding,\n      overlapped = _ref.overlapped,\n      onClose = _ref.onClose,\n      onOpen = _ref.onOpen,\n      fixed = _ref.fixed,\n      actions = _ref.actions,\n      _ref$renderInPortal = _ref.renderInPortal,\n      renderInPortal = _ref$renderInPortal === void 0 ? true : _ref$renderInPortal;\n  var theme = (0, _useTheme.default)();\n  var transitionLength = React.useMemo(function () {\n    return parseFloat(theme.orbit.durationFast) * 1000;\n  }, [theme.orbit.durationFast]);\n\n  var _useStateWithTimeout = (0, _useStateWithTimeout5.default)(false, transitionLength),\n      _useStateWithTimeout2 = (0, _slicedToArray2.default)(_useStateWithTimeout, 4),\n      shown = _useStateWithTimeout2[0],\n      setShown = _useStateWithTimeout2[1],\n      setShownWithTimeout = _useStateWithTimeout2[2],\n      clearShownTimeout = _useStateWithTimeout2[3];\n\n  var _useStateWithTimeout3 = (0, _useStateWithTimeout5.default)(false, transitionLength),\n      _useStateWithTimeout4 = (0, _slicedToArray2.default)(_useStateWithTimeout3, 4),\n      render = _useStateWithTimeout4[0],\n      setRender = _useStateWithTimeout4[1],\n      setRenderWithTimeout = _useStateWithTimeout4[2],\n      clearRenderTimeout = _useStateWithTimeout4[3];\n\n  var container = React.useRef(null);\n  var resolveCallback = React.useCallback(function (state) {\n    if (onClose && !state) onClose();\n    if (onOpen && state) onOpen();\n  }, [onClose, onOpen]);\n  var handleOut = React.useCallback(function (ev) {\n    // If open prop is present ignore custom handler\n    if (container.current && !container.current.contains(ev.target)) {\n      if (typeof opened === \"undefined\") {\n        setShown(false);\n        clearShownTimeout();\n        setRenderWithTimeout(false);\n        resolveCallback(false);\n      } else if (onClose) onClose();\n    }\n  }, [clearShownTimeout, onClose, opened, resolveCallback, setRenderWithTimeout, setShown]);\n  var handleClick = React.useCallback(function () {\n    // If open prop is present ignore custom handler\n    if (typeof opened === \"undefined\") {\n      if (shown) {\n        setShown(false);\n        clearShownTimeout();\n        setRenderWithTimeout(false);\n        resolveCallback(false);\n      } else {\n        setRender(true);\n        clearRenderTimeout();\n        setShownWithTimeout(true);\n        resolveCallback(true);\n      }\n    } else if (opened) {\n      resolveCallback(false);\n    } else if (!opened) {\n      resolveCallback(true);\n    }\n  }, [clearRenderTimeout, clearShownTimeout, opened, resolveCallback, setRender, setRenderWithTimeout, setShown, setShownWithTimeout, shown]);\n  React.useEffect(function () {\n    if (typeof opened !== \"undefined\") {\n      if (opened) {\n        setRender(true);\n        clearRenderTimeout();\n        setShownWithTimeout(true);\n      } else {\n        setShown(false);\n        clearShownTimeout();\n        setRenderWithTimeout(false);\n      }\n    }\n  }, [opened, clearRenderTimeout, clearShownTimeout, setRender, setShown, setShownWithTimeout, setRenderWithTimeout]);\n  var popover = /*#__PURE__*/React.createElement(_ContentWrapper.default, {\n    shown: shown,\n    offset: _objectSpread({\n      top: 0,\n      left: 0\n    }, offset),\n    width: width,\n    containerRef: container,\n    preferredPosition: preferredPosition,\n    preferredAlign: preferredAlign,\n    onClose: handleOut,\n    dataTest: dataTest,\n    noPadding: noPadding,\n    overlapped: overlapped,\n    fixed: fixed,\n    actions: actions\n  }, content);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StyledPopoverChild, {\n    onClick: handleClick,\n    onKeyDown: (0, _handleKeyDown.default)(handleClick),\n    ref: container\n  }, children), render && (renderInPortal ? /*#__PURE__*/React.createElement(_Portal.default, {\n    renderInto: \"popovers\"\n  }, popover) : popover));\n};\n\nvar _default = Popover;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}